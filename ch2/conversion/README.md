# 十进制和二进制相互转换技巧

## 目录
1. [基本转换方法](#基本转换方法)
2. [快速转换技巧](#快速转换技巧)
3. [位运算技巧](#位运算技巧)
4. [负数的二进制表示](#负数的二进制表示)
5. [实际应用场景](#实际应用场景)
6. [Go语言中的转换](#go语言中的转换)

## 基本转换方法

### 十进制转二进制（除2取余法）
1. 将十进制数除以2，记录余数（0或1）
2. 将商继续除以2，记录余数
3. 重复步骤直到商为0
4. 将余数从下往上排列得到二进制数

**示例：42 转二进制**
```
42 ÷ 2 = 21 ... 0 ↑
21 ÷ 2 = 10 ... 1 ↑
10 ÷ 2 = 5  ... 0 ↑
5  ÷ 2 = 2  ... 1 ↑
2  ÷ 2 = 1  ... 0 ↑
1  ÷ 2 = 0  ... 1 ↑
结果：101010
```

### 二进制转十进制（按权展开法）
1. 从右向左，给每一位编号（从0开始）
2. 将每一位的值乘以2的相应次幂
3. 将所有结果相加

**示例：101010 转十进制**
```
1×2⁵ + 0×2⁴ + 1×2³ + 0×2² + 1×2¹ + 0×2⁰
= 32 + 0 + 8 + 0 + 2 + 0
= 42
```

## 快速转换技巧

### 2的幂次方快速识别
- 2的幂次方的二进制表示只有一个1
- 公式：`n & (n-1) == 0` 表示n是2的幂

**常用2的幂次方：**
```
1  = 2⁰ = 00000001
2  = 2¹ = 00000010
4  = 2² = 00000100
8  = 2³ = 00001000
16 = 2⁴ = 00010000
32 = 2⁵ = 00100000
64 = 2⁶ = 01000000
128= 2⁷ = 10000000
```

### 十六进制与二进制快速转换
每个十六进制数字对应4位二进制：
```
0 = 0000   4 = 0100   8 = 1000   C = 1100
1 = 0001   5 = 0101   9 = 1001   D = 1101
2 = 0010   6 = 0110   A = 1010   E = 1110
3 = 0011   7 = 0111   B = 1011   F = 1111
```

**示例：0x2F 转二进制**
```
2 = 0010
F = 1111
结果：00101111
```

## 位运算技巧

### 1. 检查奇偶性
```go
if n & 1 == 0 {
    // 偶数
} else {
    // 奇数
}
```

### 2. 乘以2的幂（左移）
```go
n << 1  // n × 2
n << 2  // n × 4
n << 3  // n × 8
```

### 3. 除以2的幂（右移）
```go
n >> 1  // n ÷ 2
n >> 2  // n ÷ 4
n >> 3  // n ÷ 8
```

### 4. 设置特定位
```go
// 设置第k位（从0开始）
n = n | (1 << k)
```

### 5. 清除特定位
```go
// 清除第k位
n = n & ^(1 << k)
```

### 6. 切换特定位
```go
// 切换第k位（0变1，1变0）
n = n ^ (1 << k)
```

## 负数的二进制表示

### 补码表示法
1. 正数的二进制表示
2. 按位取反（得到反码）
3. 加1（得到补码）

**示例：-42 的补码计算**
```
+42 = 00101010
取反：11010101
加1：11010110  // -42的补码表示
```

### 补码的特性
- 最高位为符号位：0表示正数，1表示负数
- 正数的补码是其本身
- 负数的补码是正数按位取反加1
- 0的补码是0

## 实际应用场景

### 1. IP地址转换
```
192.168.1.1 转二进制：
192 = 11000000
168 = 10101000
1   = 00000001
1   = 00000001
```

### 2. Linux文件权限
```
权限 755（八进制）：
user:  111 (读/写/执行)
group: 101 (读/执行)
other: 101 (读/执行)
```

### 3. RGB颜色值
```
颜色 #FFA500（橙色）：
Red:   11111111 (255)
Green: 10100101 (165)
Blue:  00000000 (0)
```

### 4. 数据包校验
```go
// 使用异或进行简单校验
checksum := 0
for _, b := range data {
    checksum ^= int(b)
}
```

## Go语言中的转换

### 内置函数
```go
// 十进制转二进制
binaryStr := strconv.FormatInt(42, 2)  // "101010"

// 二进制转十进制
decimal, _ := strconv.ParseInt("101010", 2, 64)  // 42

// 格式化输出
fmt.Printf("%b", 42)    // "101010"
fmt.Printf("%#b", 42)   // "0b101010"
fmt.Printf("%08b", 42)  // "00101010"
```

### 位运算操作符
```go
&   // AND（与）
|   // OR（或）
^   // XOR（异或）
&^  // AND NOT（与非）
<<  // 左移
>>  // 右移
```

### 类型转换
```go
// 查看负数的二进制表示
negative := -42
fmt.Printf("%b", negative)           // "-101010"
fmt.Printf("%032b", uint32(negative)) // 32位补码表示
```

## 记忆技巧

### 二进制权重表
```
位位置  权重  值
0       2⁰    1
1       2¹    2
2       2²    4
3       2³    8
4       2⁴    16
5       2⁵    32
6       2⁶    64
7       2⁷    128
```

### 快速估算
- 8位二进制最大值：255（2⁸ - 1）
- 16位二进制最大值：65535（2¹⁶ - 1）
- 32位二进制最大值：4294967295（2³² - 1）

### 常用转换
```
0000 = 0    0100 = 4    1000 = 8    1100 = 12
0001 = 1    0101 = 5    1001 = 9    1101 = 13
0010 = 2    0110 = 6    1010 = 10   1110 = 14
0011 = 3    0111 = 7    1011 = 11   1111 = 15
```

## 练习建议

1. **手动练习**：每天练习5-10个数字的转换
2. **记忆常用值**：记住2的幂次方和8位常用值
3. **实际应用**：在编程中多使用位运算
4. **理解原理**：不要死记硬背，理解补码原理

通过掌握这些技巧，你可以快速进行十进制和二进制之间的转换，并在编程中高效使用位运算。